(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{42:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var a=c(23),s=c.n(a),n=(c(42),c(21)),r=c(4),i=c(3),l=c(6),o=c.n(l),d=(c(48),c(5)),j=c(1),b=c.n(j),m=c(37),u=c.n(m);c(49);function _(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}function h(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(d.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var O=c(0),p=function(){var e=Object(i.n)().pathname,t=Object(r.d)(),c=Object(d.a)(t,2),a=c[0],s=c[1],n=Object(j.useRef)(null),l=Object(j.useState)(a.get("query")||""),b=Object(d.a)(l,2),m=b[0],_=b[1];Object(j.useEffect)((function(){_(a.get("query")||""),s(h(a,{query:a.get("query")||null}))}),[e]);var p=Object(j.useCallback)(u()(s,1e3),[e]);return Object(O.jsxs)("div",{className:o()("search",{"search--focus":!!m}),children:[Object(O.jsx)("input",{ref:n,value:m,type:"text",className:"search__input",placeholder:"Search in ".concat(e.slice(1),"..."),onChange:function(e){var t=e.target.value;if(!t)return _(""),void p(h(a,{query:null}));_(t),p(h(a,{query:t}))},onBlur:function(e){!e.relatedTarget||e.relatedTarget.id}}),Object(O.jsx)("button",{type:"button",id:"button",className:o()("search__button",{"search__button--focus":!!m}),onClick:function(){var e;if(m)return _(""),void s(h(a,{query:null}));null===(e=n.current)||void 0===e||e.focus()}})]})},x=c.p+"static/media/Logo.c9417692.svg",g=c.p+"static/media/Favourites_Heart_Like.ae6669ec.svg",f=c.p+"static/media/Shopping_bag_Cart.1962e424.svg",v=c.p+"static/media/upppp.81f93ebb.svg",N=n.c,y=n.b,w=function(e){var t=e.isActive;return o()("nav__link",{"active-link":t})},k=function(e){var t=e.isActive;return o()("header__icon",{"active-link":t})},C=function(){var e=Object(i.n)(),t=e.pathname,c=e.search,a=N((function(e){return e.favorites})).favorites,s=N((function(e){return e.cart})).cart,n=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("header",{className:"header",children:[Object(O.jsxs)("div",{className:"header__left",children:[Object(O.jsx)("div",{className:"logo header__logo",children:Object(O.jsx)(r.b,{to:"/",className:"logo__link",children:Object(O.jsx)("img",{src:x,alt:"logo"})})}),"/cart"!==t&&Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsx)(r.c,{to:"/",className:w,children:"Home"}),Object(O.jsx)(r.c,{to:"/phones",className:w,children:"Phones"}),Object(O.jsx)(r.c,{to:"/tablets",className:w,children:"Tablets"}),Object(O.jsx)(r.c,{to:"/accessories",className:w,children:"Accessories"})]})]}),Object(O.jsxs)("div",{className:"header__right",children:[("/phones"===t||"/tablets"===t||"/accessories"===t||"/favorites"===t)&&Object(O.jsx)(p,{}),"/cart"!==t&&Object(O.jsxs)(r.c,{to:"/favorites",className:k,children:[Object(O.jsx)("img",{src:g,alt:"favorites",className:"header__image"}),a.length>0&&Object(O.jsx)("span",{className:"header__count",children:a.length})]}),Object(O.jsxs)(r.c,{to:"/cart",className:k,state:{pathname:t,search:c},children:[Object(O.jsx)("img",{src:f,alt:"cart",className:"header__image"}),s.length>0&&Object(O.jsx)("span",{className:"header__count",children:s.length})]})]})]}),Object(O.jsx)(i.b,{}),Object(O.jsx)("footer",{className:"footer",children:Object(O.jsxs)("div",{className:"footer__content",children:[Object(O.jsx)(r.b,{to:"/",className:"logo",children:Object(O.jsx)("img",{src:x,alt:"logo"})}),Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsx)(r.b,{to:"https://github.com/Viktoriia6666",className:"nav__link nav__link--footer",target:"_blank",children:"Github"}),Object(O.jsx)(r.b,{to:"/contacts",className:"nav__link nav__link--footer",children:"Contacts"}),Object(O.jsx)(r.b,{to:"/rights",className:"nav__link nav__link--footer",children:"Rights"})]}),Object(O.jsxs)("div",{className:"back-to-top",children:[Object(O.jsx)(r.b,{to:{pathname:t},className:"back-to-top__text",onClick:n,children:"Back to top"}),Object(O.jsx)(r.b,{to:{pathname:t},className:"icon icon--back-to-top",onClick:n,children:Object(O.jsx)("img",{src:v,alt:"arrow",className:"icon__arrow"})})]})]})})]})},S=(c(51),c.p+"static/media/rightblack.70f42d77.svg"),P=c.p+"static/media/Chevron (Arrow Right).c0d01b22.svg",A=[c.p+"static/media/banner-phones.b4eeda8b.png",c.p+"static/media/banner-tablets.a962057c.png",c.p+"static/media/category-accessories.e47d6d6d.png"],I=1040,B=function(){var e=Object(j.useState)(A[0]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(0),n=Object(d.a)(s,2),i=n[0],l=n[1],b=Object(j.useCallback)((function(){var e=A.findIndex((function(e){return e===c}));A.length-1===e?(a(A[0]),l(0)):(a(A[e+1]),l(i+I))}),[c,i]),m=Object(j.useCallback)((function(){var e=A.findIndex((function(e){return e===c}));0===e?(a(A[A.length-1]),l((A.length-1)*I)):(a(A[e-1]),l(i-I))}),[c,i]);return Object(j.useEffect)((function(){var e=setInterval(b,5e3);return function(){return clearInterval(e)}}),[c,i]),Object(O.jsxs)("div",{className:"slider",children:[Object(O.jsxs)("div",{className:"slider__wrapper",children:[Object(O.jsx)("button",{type:"button",className:"slider__btn slider__btn-prev",onClick:m,children:Object(O.jsx)("img",{src:P,alt:"right"})}),Object(O.jsx)("div",{className:"slider__image-wrapper",children:A.map((function(e){var t=e.split("-")[1].split(".")[0];return Object(O.jsx)("div",{style:{transform:"translateX(-".concat(i,"px)"),transition:"transform 1.5s"},children:Object(O.jsx)(r.b,{to:"/".concat(t),children:Object(O.jsx)("img",{src:e,alt:"slide",className:"slider__image"})})},e)}))}),Object(O.jsx)("button",{type:"button",className:"slider__btn slider__btn-next",onClick:b,children:Object(O.jsx)("img",{src:S,alt:"left"})})]}),Object(O.jsx)("div",{className:"slider__dots",children:A.map((function(e,t){return Object(O.jsx)("button",{type:"button",className:o()("slider__button",{"slider__button-active":c===e}),onClick:function(){return function(e){a(A[e]),l(e*I)}(t)}},e)}))})]})},q=(c(52),c(53),c(11)),F=localStorage.getItem("favorites"),L={favorites:F?JSON.parse(F):[],loading:!1,error:!1},M=function(e){localStorage.setItem("favorites",JSON.stringify(e.favorites))},R=Object(q.c)({name:"favorites",initialState:L,reducers:{add:function(e,t){e.favorites.push(t.payload),M(e)},remove:function(e,t){e.favorites=e.favorites.filter((function(e){return e.id!==t.payload})),M(e)}}}),E=R.reducer,G=R.actions,T=G.add,D=G.remove,H=c(7),J=localStorage.getItem("cart"),$={cart:J?JSON.parse(J):[],loading:!1,error:!1},W=function(e){localStorage.setItem("cart",JSON.stringify(e.cart))},Y=Object(q.c)({name:"cart",initialState:$,reducers:{add:function(e,t){e.cart.push(t.payload),W(e)},remove:function(e,t){e.cart=e.cart.filter((function(e){return e.id!==t.payload})),W(e)},increase:function(e,t){e.cart=e.cart.map((function(e){return e.id!==t.payload?e:Object(H.a)(Object(H.a)({},e),{},{quantity:e.quantity+1})})),W(e)},decrease:function(e,t){e.cart=e.cart.map((function(e){return e.id!==t.payload?e:Object(H.a)(Object(H.a)({},e),{},{quantity:e.quantity-1})})),W(e)}}}),U=Y.reducer,X=Y.actions,z=X.add,Q=X.remove,V=X.increase,Z=X.decrease,K=function(e){var t=e.card,c=e.info,a=N((function(e){return e.favorites})).favorites,s=N((function(e){return e.cart})).cart,n=y(),r=Object(j.useMemo)((function(){return s.find((function(e){return e.id===t.id}))}),[s]);return Object(O.jsxs)("div",{className:"card-buttons",children:[Object(O.jsx)("button",{type:"button",className:o()("card-buttons__cart",{"card-buttons__cart--detail":"detail"===c,"card-buttons__cart--selected":r}),onClick:function(){n(r?Q(t.id):z({id:t.id,quantity:1,product:t}))},children:r?"Added to cart":"Add to cart"}),Object(O.jsx)("button",{type:"button",className:o()("card-buttons__favorite",{"card-buttons__favorite--detail":"detail"===c,"card-buttons__favorite--selected":a.find((function(e){return e.id===t.id}))}),onClick:function(){a.find((function(e){return e.id===t.id}))?n(D(t.id)):n(T(t))},"data-cy":"addToFavorite"})]})},ee=function(e){var t=e.card,c=Object(i.n)(),a=c.pathname,s=c.search,n=t.image,l=t.name,o=t.price,d=t.fullPrice,j=t.screen,b=t.capacity,m=t.ram,u=t.phoneId;return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)(r.b,{to:"/phones/".concat(u),state:{pathname:a,search:s},children:Object(O.jsx)("img",{className:"card__image",src:"./_new/".concat(n),alt:l})}),Object(O.jsx)(r.b,{to:"/phones/".concat(u),state:{pathname:a,search:s},className:"card__name",children:l}),Object(O.jsxs)("div",{className:"card__prices",children:[Object(O.jsx)("h2",{className:"card__price",children:"$".concat(o)}),0!==d&&Object(O.jsx)("div",{className:"card__full-price",children:"$".concat(d)})]}),Object(O.jsx)("div",{className:"card__line"}),Object(O.jsxs)("div",{className:"card__info-wrapper",children:[Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("div",{className:"card__char-name",children:"Screen"}),Object(O.jsx)("div",{className:"card__char",children:j})]}),Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("div",{className:"card__char-name",children:"Capacity"}),Object(O.jsx)("div",{className:"card__char",children:b.replace("GB"," GB")})]}),Object(O.jsxs)("div",{className:"card__info",children:[Object(O.jsx)("div",{className:"card__char-name",children:"RAM"}),Object(O.jsx)("div",{className:"card__char",children:m.replace("GB"," GB")})]})]}),Object(O.jsx)(K,{card:t,info:"card"})]})},te=c(9),ce="https://mate-academy.github.io/react_phone-catalog/_new/products",ae=function(){return fetch("".concat(ce,".json")).then((function(e){if(!e.ok)throw new Error;return e.json()}))},se=c.p+"static/media/rightgray.e028d388.svg",ne=c.p+"static/media/Arrow_Left_gray.7460d679.svg",re=272,ie=1136,le=b.a.memo((function(e){var t=e.section,c=Object(i.r)().pathname,a=Object(j.useState)([]),s=Object(d.a)(a,2),n=s[0],l=s[1],b=Object(j.useState)(0),m=Object(d.a)(b,2),u=m[0],_=m[1],h=Object(j.useState)(0),p=Object(d.a)(h,2),x=p[0],g=p[1],f=Object(j.useState)(!0),v=Object(d.a)(f,2),N=v[0],y=v[1],w=Object(j.useState)(!1),k=Object(d.a)(w,2),C=k[0],A=k[1];Object(j.useEffect)((function(){switch(t){case"Hot prices":ae().then((function(e){return Object(te.a)(e).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))})).then((function(e){l(e),_(288*(e.length-1)+re)}));break;case"Brand new models":ae().then((function(e){var t=Object(te.a)(e).sort((function(e,t){return t.year-e.year}));return t.filter((function(e){return t[0].year===e.year})).map((function(e){return Object(H.a)(Object(H.a)({},e),{},{fullPrice:0})}))})).then((function(e){l(e),_(288*(e.length-1)+re)}));break;case"You may also like":ae().then((function(e){return Object(te.a)(e).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))})).then((function(e){l(e),_(288*(e.length-1)+re)}))}}),[t]);return Object(O.jsxs)("div",{"data-cy":"cardsContainer",children:[Object(O.jsxs)("div",{className:"main__upper-wrapper",children:[Object(O.jsx)("h1",{className:"main__title",children:t}),Object(O.jsxs)("div",{className:"main__button-slider",children:[Object(O.jsx)(r.b,{to:{pathname:c},className:o()("icon",{"icon--disabled":N}),onClick:function(e){N?e.preventDefault():(A(!1),g((function(e){var t=e-ie-16;return t>0?t:(y(!0),0)})))},children:N?Object(O.jsx)("img",{src:ne,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:P,alt:"arrow",className:"icon__arrow"})}),Object(O.jsx)(r.b,{to:{pathname:c},className:o()("icon",{"icon--disabled":C}),onClick:function(e){C?e.preventDefault():(y(!1),g((function(e){var t=e+ie+16;return u-t>ie?t:(A(!0),u-ie)})))},children:C?Object(O.jsx)("img",{src:se,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:S,alt:"arrow",className:"icon__arrow"})})]})]}),n.length>0&&Object(O.jsx)("div",{className:"phones",children:n.map((function(e){return Object(O.jsx)("div",{style:{transform:"translateX(-".concat(x,"px)"),transition:"transform 1.5s"},children:Object(O.jsx)(ee,{card:e},e.id)},e.id)}))})]})})),oe=c.p+"static/media/Phones.07a8b44e.png",de=c.p+"static/media/tablet.25bae515.png",je=c.p+"static/media/acse.b914f412.png",be=Object(q.b)("phones/fetch",(function(){return ae().then((function(e){return e.filter((function(e){return"phones"===e.category}))}))})),me=Object(q.c)({name:"phones",initialState:{phones:[],loading:!1,error:!1},reducers:{},extraReducers:function(e){e.addCase(be.pending,(function(e){return Object(H.a)(Object(H.a)({},e),{},{error:!1,loading:!0})})),e.addCase(be.fulfilled,(function(e,t){return Object(H.a)(Object(H.a)({},e),{},{phones:t.payload,loading:!1})})),e.addCase(be.rejected,(function(e){return Object(H.a)(Object(H.a)({},e),{},{error:!0,loading:!1})}))}}).reducer,ue=function(){var e=N((function(e){return e.phones})).phones,t=y();return Object(j.useEffect)((function(){t(be())}),[]),Object(O.jsxs)("main",{className:"main",children:[Object(O.jsx)("section",{className:"main__slider",children:Object(O.jsx)(B,{})}),Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(le,{section:"Hot prices"})}),Object(O.jsxs)("section",{className:"main__section","data-cy":"categoryLinksContainer",children:[Object(O.jsx)("div",{className:"main__upper-wrapper",children:Object(O.jsx)("h1",{className:"main__title",children:"Shop by category"})}),Object(O.jsxs)("div",{className:"category",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(r.b,{to:"/phones",className:"category__item",children:Object(O.jsx)("img",{src:oe,alt:"phones",className:"category__image"})}),Object(O.jsx)(r.b,{to:"/phones",children:Object(O.jsx)("h3",{className:"category__title",children:"Mobile phones"})}),Object(O.jsx)("p",{className:"category__count",children:"".concat(e.length," models")})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(r.b,{to:"/tablets",className:"category__item",children:Object(O.jsx)("img",{src:de,alt:"tablets",className:"category__image"})}),Object(O.jsx)(r.b,{to:"/tablets",children:Object(O.jsx)("h3",{className:"category__title",children:"Tablets"})}),Object(O.jsx)("p",{className:"category__count",children:"0 models"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(r.b,{to:"/accessories",className:"category__item",children:Object(O.jsx)("img",{src:je,alt:"accessories",className:"category__image"})}),Object(O.jsx)(r.b,{to:"/accessories",children:Object(O.jsx)("h3",{className:"category__title",children:"Accessories"})}),Object(O.jsx)("p",{className:"category__count",children:"0 models"})]})]})]}),Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(le,{section:"Brand new models"})})]})},_e=function(){return Object(O.jsxs)("main",{className:"main main--not-found",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Page not found"}),Object(O.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]})},he="16",Oe=b.a.memo((function(e){var t=e.products,c=Object(r.d)(),a=Object(d.a)(c,1)[0],s=+(a.get("page")||"1"),n=+(a.get("perPage")||he);return Object(O.jsx)("div",{className:"phones phones--list","data-cy":"productList",children:t.slice(s*n-n,s*n).map((function(e){return Object(O.jsx)(ee,{card:e},e.id)}))})})),pe=(c(55),function(){return Object(O.jsx)("div",{className:"loader","data-cy":"loader",children:Object(O.jsx)("div",{className:"loader__content"})})}),xe=(c(56),c.p+"static/media/Home.d4c29e4f.svg"),ge=c.p+"static/media/rightGrayNoButton.2a072ff1.svg",fe=b.a.memo((function(e){var t=e.currentPage,c=Object(i.n)().pathname.split("/");return Object(O.jsx)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:c.map((function(e,a){if(0===a)return Object(O.jsx)(b.a.Fragment,{children:Object(O.jsx)(r.b,{to:"/",className:"breadcrumbs__home",children:Object(O.jsx)("img",{src:xe,alt:"home",className:"breadcrumbs__image"})})},e);if(a===c.length-1&&t)return Object(O.jsxs)(b.a.Fragment,{children:[Object(O.jsx)("img",{src:ge,alt:"right",className:"breadcrumbs__right"}),Object(O.jsx)(r.b,{to:"/".concat(c.slice(1,a+1).join("/")),className:o()("breadcrumbs__text",{"breadcrumbs__text--category":c.length>1&&1===a}),children:t})]},e);var s=e.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ");return Object(O.jsxs)(b.a.Fragment,{children:[Object(O.jsx)("img",{src:ge,alt:"right",className:"breadcrumbs__right"}),Object(O.jsx)(r.b,{to:"/".concat(c.slice(1,a+1).join("/")),className:o()("breadcrumbs__text",{"breadcrumbs__text--category":c.length>2&&1===a}),children:s})]},e)}))})})),ve=c.p+"static/media/not_found.cddfa236.jpg",Ne=function(){return Object(O.jsx)("main",{className:"main",children:Object(O.jsxs)("section",{className:"main__no-results",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"We are sorry, but this feature is not implemented yet"}),Object(O.jsx)("img",{src:ve,alt:"No results",className:"main__no-results-image"})]})})},ye=(c(57),c.p+"static/media/Arrow_Left_black.960106b2.svg"),we=b.a.memo((function(e){var t=e.countPagination,c=Object(r.d)(),a=Object(d.a)(c,1)[0],s=a.get("page")||"1",n="1"===s,i=s===t.toString(),l=function(e){var t=a.get("page"),c=t&&+t?+t:1;switch(e){case"prev":return h(a,{page:(c-1).toString()});case"next":return h(a,{page:(c+1).toString()});default:return a}};return Object(O.jsxs)("div",{className:"pagination",children:[Object(O.jsx)(r.b,{to:{search:l("prev").toString()},className:o()("icon",{"icon--disabled":n}),onClick:function(e){return n&&e.preventDefault()},"data-cy":"paginationLeft",children:n?Object(O.jsx)("img",{src:ne,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:ye,alt:"arrow",className:"icon__arrow"})}),_(1,t).map((function(e){return Object(O.jsx)(r.b,{to:{search:h(a,{page:e.toString()})},className:o()("pagination__icon",{"pagination__icon--selected":s===e.toString()}),children:e},e)})),Object(O.jsx)(r.b,{to:{search:l("next").toString()},className:o()("icon",{"icon--disabled":i}),onClick:function(e){return i&&e.preventDefault()},"data-cy":"paginationRight",children:i?Object(O.jsx)("img",{src:se,alt:"arrow",className:"icon__arrow"}):Object(O.jsx)("img",{src:S,alt:"arrow",className:"icon__arrow"})})]})})),ke=c.p+"static/media/downGray.0775c6b7.svg",Ce=c.p+"static/media/no-result-512.73090937.png",Se=function(){return Object(O.jsx)("main",{className:"main",children:Object(O.jsxs)("section",{className:"main__no-results",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Sorry, something went wrong. Please try again later."}),Object(O.jsx)("img",{src:Ce,alt:"No results",className:"main__no-results-image"})]})})},Pe={Newest:"age",Alphabetically:"name",Cheapest:"price"},Ae=["4","8","16","All"],Ie=function(){var e=Object(r.d)(),t=Object(d.a)(e,2),c=t[0],a=t[1],s=N((function(e){return e.phones})),n=s.phones,i=s.loading,l=s.error,b=Object(j.useState)(!1),m=Object(d.a)(b,2),u=m[0],_=m[1],p=y();Object(j.useEffect)((function(){p(be())}),[]);var x=Object(j.useMemo)((function(){if(0===n.length)return[];var e=Object(te.a)(n);switch(c.get("sort")){case"age":default:e.sort((function(e,t){return t.year-e.year}));break;case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}))}var t=c.get("query");return t?(a(h(c,{page:"1"})),e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))):e}),[c.get("sort"),c.get("query"),n]),g=Object(j.useMemo)((function(){var e=c.get("perPage"),t=e&&+e?+e:16;return Math.ceil(x.length/t)}),[c.get("perPage"),x]),f=Object(j.useMemo)((function(){var e=c.get("sort");return Object.keys(Pe).find((function(t){return Pe[t]===e}))||"Newest"}),[c.get("sort")]),w=function(e){_((function(t){return t!==e&&e}))},k=function(e){e.relatedTarget&&e.relatedTarget.classList.contains("dropdown__link")||_(!1)};return l?Object(O.jsx)(Se,{}):0!==n.length&&0===x.length?Object(O.jsx)(Ne,{}):Object(O.jsxs)("main",{className:"main",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(fe,{currentPage:"Phones"}),Object(O.jsx)("h1",{className:"main__title main__title--page",children:"Mobile phones"}),!i&&0!==n.length&&Object(O.jsx)("div",{className:"main__description",children:c.get("query")?"".concat(x.length," result").concat(1===x.length?"":"s"):"".concat(n.length," models")})]}),i&&Object(O.jsx)(pe,{}),!i&&0!==x.length&&Object(O.jsxs)("section",{className:"main__section",children:[Object(O.jsxs)("div",{className:"main__dropdown dropdown",children:[Object(O.jsxs)("div",{className:"dropdown__menu",children:[Object(O.jsxs)("div",{className:"dropdown__trigger",children:[Object(O.jsx)("div",{className:"dropdown__description",children:"Sort by"}),Object(O.jsxs)("button",{type:"button",className:"dropdown__button",onClick:function(){return w("Sort by")},onBlur:k,children:[Object(O.jsx)("span",{className:"dropdown__text",children:f}),Object(O.jsx)("span",{className:"dropdown__icon",children:"Sort by"===u?Object(O.jsx)("img",{src:v,alt:"arrow-up"}):Object(O.jsx)("img",{src:ke,alt:"arrow-down"})})]})]}),Object(O.jsx)("div",{className:o()("dropdown__content",{"dropdown__content--open":"Sort by"===u}),children:Object.keys(Pe).map((function(e){return Object(O.jsx)("div",{className:"dropdown__item",children:Object(O.jsx)(r.b,{to:{search:h(c,{sort:Pe[e]}).toString()},className:o()("dropdown__link",{"dropdown__link--active":"Sort by"===u}),onClick:function(){return _(!1)},children:e})},e)}))})]}),Object(O.jsxs)("div",{className:"dropdown__menu",children:[Object(O.jsxs)("div",{className:"dropdown__trigger",children:[Object(O.jsx)("div",{className:"dropdown__description",children:"Items on page"}),Object(O.jsxs)("button",{type:"button",className:"dropdown__button dropdown__button--count",onClick:function(){return w("Items on page")},onBlur:k,children:[Object(O.jsx)("span",{className:"dropdown__text",children:c.get("perPage")||he}),Object(O.jsx)("span",{className:"dropdown__icon",children:"Items on page"===u?Object(O.jsx)("img",{src:v,alt:"arrow-up"}):Object(O.jsx)("img",{src:ke,alt:"arrow-down"})})]})]}),Object(O.jsx)("div",{className:o()("dropdown__content dropdown__content--count",{"dropdown__content--open":"Items on page"===u}),children:Ae.map((function(e){return Object(O.jsx)("div",{className:"dropdown__item",children:Object(O.jsx)(r.b,{to:{search:h(c,{page:"1",perPage:e}).toString()},className:o()("dropdown__link",{"dropdown__link--active":"Items on page"===u}),onClick:function(){return _(!1)},children:e})},e)}))})]})]}),Object(O.jsx)(Oe,{products:x}),"All"!==c.get("perPage")&&g>1&&Object(O.jsx)(we,{countPagination:g})]})]})},Be=function(e){var t=e.page;return Object(O.jsxs)("main",{className:"main main--not-found",children:[Object(O.jsx)("h1",{className:"main__title",children:"Oops!"}),Object(O.jsxs)("div",{className:"main__text",children:["Apologies for the inconvenience, but the",Object(O.jsx)("span",{className:"main__span",children:" ".concat(t," ")}),"are not available yet!",Object(O.jsx)("br",{}),"We appreciate your understanding."]}),Object(O.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]})},qe=function(){return Object(O.jsx)(Be,{page:"tablets"})},Fe=function(){return Object(O.jsx)(Be,{page:"accessories"})},Le=function(e){var t=e.category;return Object(O.jsxs)("section",{className:"main__no-results",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Your ".concat(t," is empty")}),Object(O.jsx)("img",{src:Ce,alt:"No results",className:"main__no-results-image"})]})},Me=function(){var e=Object(r.d)(),t=Object(d.a)(e,1)[0],c=N((function(e){return e.favorites})),a=c.favorites,s=c.error,n=Object(j.useMemo)((function(){if(0===a.length)return[];var e=Object(te.a)(a),c=t.get("query");return c?e.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})):e}),[t.get("query"),a]);return s?Object(O.jsx)(Se,{}):0!==a.length&&0===n.length?Object(O.jsx)(Ne,{}):Object(O.jsxs)("main",{className:"main main--page",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(fe,{currentPage:"Favorites"}),Object(O.jsx)("h1",{className:"main__title main__title--page",children:"Favorites"}),0!==a.length&&Object(O.jsx)("div",{className:"main__description",children:t.get("query")?"".concat(n.length," result").concat(1===n.length?"":"s"):"".concat(a.length," item").concat(1!==a.length?"s":"")})]}),0===a.length&&Object(O.jsx)(Le,{category:"favorites"}),0!==n.length&&Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(Oe,{products:n})})]})},Re=(c(58),b.a.memo((function(){var e=Object(i.n)().state;return Object(O.jsxs)(r.b,{to:{pathname:(null===e||void 0===e?void 0:e.pathname)||"..",search:null===e||void 0===e?void 0:e.search},className:"back","data-cy":"backButton",children:[Object(O.jsx)("img",{src:ye,alt:"arrow",className:"back__arrow"}),Object(O.jsx)("span",{className:"back__text",children:"Back"})]})}))),Ee=function(){var e=Object(i.n)(),t=e.pathname,c=e.search,a=Object(j.useState)(!1),s=Object(d.a)(a,2),n=s[0],l=s[1],b=N((function(e){return e.cart})),m=b.cart,u=b.error,_=y(),h=Object(j.useMemo)((function(){return m.reduce((function(e,t){return e+t.product.price*t.quantity}),0)}),[m]),p=Object(j.useMemo)((function(){return m.reduce((function(e,t){return e+t.quantity}),0)}),[m]);return u?Object(O.jsx)(Se,{}):Object(O.jsxs)("main",{className:"main",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(Re,{}),Object(O.jsx)("h1",{className:"main__title",children:"Cart"})]}),0===m.length&&Object(O.jsx)(Le,{category:"cart"}),0!==m.length&&Object(O.jsxs)("section",{className:"main__cart cart",children:[Object(O.jsx)("div",{className:"cart__list",children:m.map((function(e){var a=e.id,s=e.quantity,n=e.product,i=n.image,l=n.name,d=n.price,j=n.phoneId;return Object(O.jsxs)("div",{className:"cart__card",children:[Object(O.jsx)("button",{type:"button",className:"cart__close",onClick:function(){return function(e){_(Q(e))}(a)},"data-cy":"cartDeleteButton"}),Object(O.jsx)(r.b,{to:"/phones/".concat(j),className:"cart__image-wrapper",state:{pathname:t,search:c},children:Object(O.jsx)("img",{className:"cart__image",src:"./_new/".concat(i),alt:l})}),Object(O.jsx)(r.b,{to:"/phones/".concat(j),className:"cart__name",state:{pathname:t,search:c},children:"".concat(l)}),Object(O.jsxs)("div",{className:"cart__buttons",children:[Object(O.jsx)("button",{type:"button",className:o()("cart__button cart__button--minus",{"cart__button--disabled":1===s}),onClick:function(){return function(e){_(Z(e))}(e.id)},disabled:1===s}),Object(O.jsx)("span",{className:"cart__count",children:s}),Object(O.jsx)("button",{type:"button",className:"cart__button cart__button--plus",onClick:function(){return function(e){_(V(e))}(e.id)}})]}),Object(O.jsx)("h2",{className:"cart__card-price",children:"$".concat(d)})]},a)}))}),Object(O.jsxs)("div",{className:"cart__total",children:[Object(O.jsx)("h1",{className:"cart__title",children:"$".concat(h)}),Object(O.jsx)("div",{className:"cart__description","data-cy":"productQauntity",children:"Total for ".concat(p," item").concat(1===p?"":"s")}),Object(O.jsx)("div",{className:"cart__line"}),Object(O.jsx)("button",{type:"button",className:"cart__checkout",onClick:function(){return l(!0)},children:"Checkout"}),n&&Object(O.jsxs)("div",{className:"cart__message",children:[Object(O.jsx)("button",{type:"button",className:"cart__close cart__close--message",onClick:function(){return l(!1)}}),Object(O.jsx)("p",{className:"cart__paragraph",children:"We are sorry, but this feature is not implemented yet"})]})]})]})]})},Ge=Object(q.b)("product/fetch",(function(e){return function(e){return fetch("".concat(ce,"/").concat(e,".json")).then((function(e){if(!e.ok)throw new Error;return e.json()}))}(e)})),Te=Object(q.c)({name:"product",initialState:{product:null,mainImage:"",loading:!1,error:!1},reducers:{setImage:function(e,t){return Object(H.a)(Object(H.a)({},e),{},{mainImage:t.payload})}},extraReducers:function(e){e.addCase(Ge.pending,(function(e){return Object(H.a)(Object(H.a)({},e),{},{error:!1,loading:!0})})),e.addCase(Ge.fulfilled,(function(e,t){return Object(H.a)(Object(H.a)({},e),{},{product:t.payload,mainImage:t.payload.images[0],loading:!1})})),e.addCase(Ge.rejected,(function(e){return Object(H.a)(Object(H.a)({},e),{},{error:!0,loading:!1})}))}}),De=Te.reducer,He=Te.actions.setImage,Je={black:"#000",coral:"#FF7F50",gold:"#FCDBC1",green:"#87CEFA",midnightgreen:"#5F7170",purple:"#CBB1FF",red:"#F00",rosegold:"#FCBAAA",silver:"#C0C0C0",spacegray:"#4C4C4C",white:"#FFF",yellow:"yellow"},$e=function(){var e=Object(i.n)().pathname,t=Object(i.r)().productId,c=N((function(e){return e.phones})).phones,a=N((function(e){return e.product})),s=a.product,n=a.loading,l=a.error,d=a.mainImage,b=y(),m=c.find((function(e){return e.phoneId===t}));Object(j.useEffect)((function(){t&&(b(be()),b(Ge(t)))}),[t]);var u=function(e){return s?"/phones/".concat(s.namespaceId,"-").concat(s.capacity.toLowerCase(),"-").concat(e):".."},_=function(e){return s?"/phones/".concat(s.namespaceId,"-").concat(e.toLowerCase(),"-").concat(s.color):".."};return Object(O.jsxs)(O.Fragment,{children:[l&&Object(O.jsxs)("main",{className:"main main--not-found",children:[Object(O.jsx)("h1",{className:"main__title main__title--development",children:"Phone was not found"}),Object(O.jsxs)("div",{className:"main__text",children:["Perhaps you would like to navigate to the",Object(O.jsx)(r.b,{to:{pathname:"/"},children:Object(O.jsx)("span",{className:"main__span",children:" Home page "})}),"?"]})]}),!l&&n&&Object(O.jsx)(pe,{}),!l&&!n&&s&&Object(O.jsxs)("main",{className:"main main--page",children:[Object(O.jsxs)("div",{className:"main__header",children:[Object(O.jsx)(fe,{currentPage:s.name}),Object(O.jsx)(Re,{}),Object(O.jsx)("h1",{className:"main__title",children:s.name})]}),Object(O.jsxs)("section",{className:"main__section detail",children:[Object(O.jsx)("ul",{className:"detail__list",children:s.images.map((function(t){return Object(O.jsx)("li",{className:"detail__item",children:Object(O.jsx)(r.b,{to:{pathname:e},className:o()("detail__link",{"detail__link--selected":t===d}),onClick:function(){return b(He(t))},children:Object(O.jsx)("img",{src:"./_new/".concat(t),alt:t,className:"detail__image"})})},t)}))}),Object(O.jsx)("div",{className:"detail__main-image-wrapper",children:Object(O.jsx)("img",{src:"./_new/".concat(d),alt:d,className:"detail__main-image"})}),Object(O.jsxs)("div",{className:"detail__info",children:[Object(O.jsxs)("div",{className:"detail__wrapper",children:[Object(O.jsx)("div",{className:"detail__text",children:"Available colors"}),Object(O.jsx)("div",{className:"detail__colors",children:s.colorsAvailable.map((function(e){return Object(O.jsx)(r.b,{to:{pathname:u(e)},className:o()("detail__color",{"detail__color--active":s.color===e}),children:Object(O.jsx)("span",{className:"detail__circle",style:{backgroundColor:Je[e]}})},e)}))}),Object(O.jsx)("div",{className:"detail__line"})]}),Object(O.jsxs)("div",{className:"detail__wrapper",children:[Object(O.jsx)("div",{className:"detail__text",children:"Select capacity"}),Object(O.jsx)("div",{className:"detail__capacities",children:s.capacityAvailable.map((function(e){return Object(O.jsx)(r.b,{to:{pathname:_(e)},className:o()("detail__capacity",{"detail__capacity--active":s.capacity===e}),children:e.replace("GB"," GB")},e)}))}),Object(O.jsx)("div",{className:"detail__line"})]}),Object(O.jsxs)("div",{className:"detail__price-block",children:[Object(O.jsxs)("div",{className:"detail__prices",children:[Object(O.jsx)("div",{className:"detail__price",children:"$".concat(s.priceDiscount)}),Object(O.jsx)("div",{className:"detail__full-price",children:"$".concat(s.priceRegular)})]}),m&&Object(O.jsx)(K,{card:m,info:"detail"})]}),Object(O.jsxs)("div",{className:"detail__chars",children:[Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"Screen"}),Object(O.jsx)("div",{className:"detail__param",children:s.screen})]}),Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"Resolution"}),Object(O.jsx)("div",{className:"detail__param",children:s.resolution})]}),Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"Processor"}),Object(O.jsx)("div",{className:"detail__param",children:s.processor})]}),Object(O.jsxs)("div",{className:"detail__char",children:[Object(O.jsx)("div",{className:"detail__char-name",children:"RAM"}),Object(O.jsx)("div",{className:"detail__param",children:s.ram.replace("GB"," GB")})]})]})]}),Object(O.jsx)("div",{className:"detail__id"}),Object(O.jsxs)("div",{"data-cy":"productDescription",className:"detail__product-left",children:[Object(O.jsx)("h2",{className:"detail__title",children:"About"}),Object(O.jsxs)("div",{className:"detail__about",children:[Object(O.jsx)("div",{className:"detail__line"}),s.description.map((function(e){var t=e.text,c=e.title;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"detail__subtitle",children:c}),Object(O.jsx)("div",{className:"detail__description",children:t})]},c)}))]})]}),Object(O.jsxs)("div",{className:"detail__product-right",children:[Object(O.jsx)("h2",{className:"detail__title",children:"Tech specs"}),Object(O.jsx)("div",{className:"detail__line"}),Object(O.jsxs)("ul",{className:"detail__list-tech",children:[Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Screen"}),Object(O.jsx)("div",{children:s.screen})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Resolution"}),Object(O.jsx)("div",{children:s.resolution})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Processor"}),Object(O.jsx)("div",{children:s.processor})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"RAM"}),Object(O.jsx)("div",{children:s.ram})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Built in memory"}),Object(O.jsx)("div",{children:s.capacity})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Camera"}),Object(O.jsx)("div",{children:s.camera})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Zoom"}),Object(O.jsx)("div",{children:s.zoom})]}),Object(O.jsxs)("li",{className:"detail__item-tech",children:[Object(O.jsx)("div",{className:"detail__description",children:"Cell"}),Object(O.jsx)("div",{children:s.cell.join(", ")})]})]})]})]}),Object(O.jsx)("section",{className:"main__section",children:Object(O.jsx)(le,{section:"You may also like"})})]})]})},We=function(){return Object(O.jsx)(r.a,{children:Object(O.jsx)(i.e,{children:Object(O.jsxs)(i.c,{path:"/",element:Object(O.jsx)(C,{}),children:[Object(O.jsx)(i.c,{path:"*",element:Object(O.jsx)(_e,{})}),Object(O.jsx)(i.c,{index:!0,element:Object(O.jsx)(ue,{})}),Object(O.jsx)(i.c,{path:"home",element:Object(O.jsx)(i.a,{to:"/"})}),Object(O.jsxs)(i.c,{path:"phones",children:[Object(O.jsx)(i.c,{index:!0,element:Object(O.jsx)(Ie,{})}),Object(O.jsx)(i.c,{path:":productId",element:Object(O.jsx)($e,{})})]}),Object(O.jsx)(i.c,{path:"tablets",element:Object(O.jsx)(qe,{})}),Object(O.jsx)(i.c,{path:"accessories",element:Object(O.jsx)(Fe,{})}),Object(O.jsx)(i.c,{path:"favorites",element:Object(O.jsx)(Me,{})}),Object(O.jsx)(i.c,{path:"cart",element:Object(O.jsx)(Ee,{})})]})})})},Ye=Object(q.a)({reducer:{cart:U,favorites:E,phones:me,product:De}});s.a.render(Object(O.jsx)(n.a,{store:Ye,children:Object(O.jsx)(We,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.ad1935e9.chunk.js.map